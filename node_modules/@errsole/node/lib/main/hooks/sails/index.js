'use strict';var a0_0x4488d0=a0_0x5956;(function(_0x45b9d0,_0x1990f8){var _0x5c8fd9=a0_0x5956,_0x2351a1=_0x45b9d0();while(!![]){try{var _0x28dfb8=-parseInt(_0x5c8fd9(0x1b7))/0x1*(parseInt(_0x5c8fd9(0x1d6))/0x2)+parseInt(_0x5c8fd9(0x1af))/0x3*(-parseInt(_0x5c8fd9(0x1bc))/0x4)+parseInt(_0x5c8fd9(0x1b2))/0x5+parseInt(_0x5c8fd9(0x1d4))/0x6*(parseInt(_0x5c8fd9(0x1da))/0x7)+parseInt(_0x5c8fd9(0x1c7))/0x8+parseInt(_0x5c8fd9(0x1d2))/0x9+-parseInt(_0x5c8fd9(0x1aa))/0xa;if(_0x28dfb8===_0x1990f8)break;else _0x2351a1['push'](_0x2351a1['shift']());}catch(_0x2cd4b4){_0x2351a1['push'](_0x2351a1['shift']());}}}(a0_0x4651,0xb9e16));function a0_0x4651(){var _0x41b346=['string','express-session','getSessionName','packages','headers','toString','use','exports','hrtime','8738667jDYDGe','../../eventCapture/events','60PmbiPJ','write','67832soYzoq','listen','end','sessionID','758786zDbvNE','_events','uuid','path','24474100FKNXsl','ADD_HTTP_REQUEST_LOG','node','split','errsole','21zPxMNc','unable\x20to\x20attach\x20error\x20watcher','isBuffer','6829595TPVdqN','bigint','close','finish','locals','9HxszQa','REMOVE_HTTP_REQUEST_LOG','Response\x20not\x20available','cookie','responseBody','776848jcsbLz','session','HTTP_RESPONSE_SENT','error','addMainProcessPort','match','trim','setPrototypeOf','emit','addWrappedPorts','call','11621136gwggab','../../../config'];a0_0x4651=function(){return _0x41b346;};return a0_0x4651();}const FS=require('fs'),Path=require(a0_0x4488d0(0x1a9)),{v4:uuidv4}=require(a0_0x4488d0(0x1a8));var Events=require(a0_0x4488d0(0x1d3)),appConfig=require(a0_0x4488d0(0x1c8)),pendingHTTPRequests=appConfig['getPendingHTTPRequests'](),SailsHook={};function wrapSailsExpress(_0x433fbc){var _0x45ca4e=a0_0x4488d0,_0x1ea20a=function(){var _0x5919f9=a0_0x5956,_0x2499f5=_0x433fbc();return _0x2499f5[_0x5919f9(0x1cf)](errsoleWatcher),_0x2499f5[_0x5919f9(0x1cf)](errsoleResponseCapture),_0x2499f5['listen']=wraplisten(_0x2499f5[_0x5919f9(0x1d7)],_0x2499f5),_0x2499f5;};return Object[_0x45ca4e(0x1c3)](_0x1ea20a,_0x433fbc),_0x1ea20a;}function wraplisten(_0x447e64,_0x2789fb){return function(){var _0x55d4c8=a0_0x5956,_0x5d4f8b=arguments[0x0];return appConfig[_0x55d4c8(0x1c0)](_0x5d4f8b),appConfig[_0x55d4c8(0x1c5)](_0x5d4f8b),_0x447e64[_0x55d4c8(0x1c6)](_0x2789fb,...arguments);};}function a0_0x5956(_0x5608fe,_0x5b1594){var _0x465102=a0_0x4651();return a0_0x5956=function(_0x59562e,_0x50d247){_0x59562e=_0x59562e-0x1a8;var _0x3433d7=_0x465102[_0x59562e];return _0x3433d7;},a0_0x5956(_0x5608fe,_0x5b1594);}function wrapExpressSession(_0x384e73){var _0x145878=a0_0x4488d0,_0x4e0b97=function(_0x24b17c){var _0x5f0af4=_0x384e73(_0x24b17c);return function(_0x5eaf1e,_0x80a475,_0x185dde){_0x5f0af4(_0x5eaf1e,_0x80a475,function(_0x2e0af8){var _0x2baea7=a0_0x5956;_0x5eaf1e[_0x2baea7(0x1ae)]||(_0x5eaf1e['errsole']={}),_0x5eaf1e[_0x2baea7(0x1d9)]&&(_0x5eaf1e[_0x2baea7(0x1ae)][_0x2baea7(0x1bd)]={'sid':_0x5eaf1e['sessionID'],'session':_0x5eaf1e[_0x2baea7(0x1bd)]}),_0x185dde(_0x2e0af8);});};};return Object[_0x145878(0x1c3)](_0x4e0b97,_0x384e73),_0x4e0b97;}function errsoleWatcher(_0x34aa97,_0x276ee1,_0x3b3ed4){var _0x595785=a0_0x4488d0;_0x34aa97['errsole']={},_0x34aa97[_0x595785(0x1ae)]['id']=uuidv4(),Events[_0x595785(0x1c4)](Events[_0x595785(0x1ab)],_0x34aa97);var _0x379f35=process[_0x595785(0x1d1)][_0x595785(0x1b3)]();if(!(_0x423490=getErrsoleSessonId(_0x34aa97))){var _0x423490=uuidv4();_0x276ee1=setErrsoleSessionId(_0x276ee1,_0x423490);}var _0x4f95c5=function(){var _0x3e270f=_0x595785;_0x34aa97['errsole']['responseTime']=((process['hrtime']['bigint']()-_0x379f35)/0xf4240n)[_0x3e270f(0x1ce)](),_0x34aa97[_0x3e270f(0x1ae)]['errsoleSessionId']=_0x423490,_0x34aa97[_0x3e270f(0x1ae)][_0x3e270f(0x1bf)]=_0x276ee1[_0x3e270f(0x1b6)]?_0x276ee1[_0x3e270f(0x1b6)]['error']:{},Events[_0x3e270f(0x1c4)](Events[_0x3e270f(0x1b8)],_0x34aa97),Events['emit'](Events[_0x3e270f(0x1be)],{'request':_0x34aa97,'response':_0x276ee1});};if(!_0x276ee1[_0x595785(0x1db)])throw new Error(_0x595785(0x1b0));if(_0x276ee1[_0x595785(0x1db)][_0x595785(0x1b5)])_0x276ee1['on'](_0x595785(0x1b5),_0x4f95c5);else{if(!_0x276ee1['_events'][_0x595785(0x1b4)])throw new Error(_0x595785(0x1b0));_0x276ee1['on']('close',_0x4f95c5);}_0x3b3ed4();}function errsoleResponseCapture(_0x24baf5,_0x65983b,_0x4f4392){var _0x23211e=a0_0x4488d0;_0x24baf5[_0x23211e(0x1ae)]['responseBody']='';var _0x583874=_0x65983b[_0x23211e(0x1d5)];if(_0x65983b[_0x23211e(0x1d5)]=function(_0x4eac39,_0x2fc863,_0x3191ec){var _0x39b546=_0x23211e;_0x4eac39?Buffer[_0x39b546(0x1b1)](_0x4eac39)?_0x24baf5['errsole'][_0x39b546(0x1bb)]+=_0x4eac39[_0x39b546(0x1ce)](_0x2fc863):'string'==typeof _0x4eac39?_0x24baf5[_0x39b546(0x1ae)][_0x39b546(0x1bb)]+=_0x4eac39:_0x24baf5[_0x39b546(0x1ae)][_0x39b546(0x1bb)]=_0x39b546(0x1b9):_0x24baf5[_0x39b546(0x1ae)][_0x39b546(0x1bb)]+='',_0x583874[_0x39b546(0x1c6)](_0x65983b,_0x4eac39,_0x2fc863,_0x3191ec);},parseInt(process['versions'][_0x23211e(0x1ac)])>=0x8){var _0x477617=_0x65983b[_0x23211e(0x1d8)];_0x65983b[_0x23211e(0x1d8)]=function(_0xcb479e,_0x5391c9){var _0x4908ba=_0x23211e;_0xcb479e?Buffer[_0x4908ba(0x1b1)](_0xcb479e)?_0x24baf5[_0x4908ba(0x1ae)]['responseBody']+=_0xcb479e[_0x4908ba(0x1ce)](_0x5391c9):_0x4908ba(0x1c9)==typeof _0xcb479e?_0x24baf5[_0x4908ba(0x1ae)]['responseBody']+=_0xcb479e:_0x24baf5[_0x4908ba(0x1ae)][_0x4908ba(0x1bb)]='Response\x20not\x20available':_0x24baf5[_0x4908ba(0x1ae)][_0x4908ba(0x1bb)]+='',_0x477617[_0x4908ba(0x1c6)](_0x65983b,_0xcb479e,_0x5391c9);};}_0x4f4392();}function getErrsoleSessonId(_0x477e10){var _0x142be0=a0_0x4488d0;try{if(!_0x477e10[_0x142be0(0x1cd)][_0x142be0(0x1ba)])return null;var _0x49ce8e=appConfig[_0x142be0(0x1cb)](),_0x2eaff0=get_cookies(_0x477e10)[_0x49ce8e];if(_0x2eaff0)return _0x2eaff0;}catch(_0x5bed3e){return console[_0x142be0(0x1bf)](_0x5bed3e),null;}}function setErrsoleSessionId(_0x100c39,_0xbd738a){var _0x57fc22=a0_0x4488d0;try{var _0x5772a7=appConfig['getSessionName']();_0x100c39['cookie'](_0x5772a7,_0xbd738a);}catch(_0x44749d){console[_0x57fc22(0x1bf)](_0x44749d);}return _0x100c39;}function get_cookies(_0x44c5f1){var _0x433a42=a0_0x4488d0,_0x211765={};return _0x44c5f1[_0x433a42(0x1cd)]&&_0x44c5f1[_0x433a42(0x1cd)]['cookie'][_0x433a42(0x1ad)](';')['forEach'](function(_0x56b767){var _0x454897=_0x433a42,_0x4df5f2=_0x56b767[_0x454897(0x1c1)](/(.*?)=(.*)$/);_0x211765[_0x4df5f2[0x1]['trim']()]=(_0x4df5f2[0x2]||'')[_0x454897(0x1c2)]();}),_0x211765;}SailsHook[a0_0x4488d0(0x1cc)]=[{'name':'express','wrapper':wrapSailsExpress},{'name':a0_0x4488d0(0x1ca),'wrapper':wrapExpressSession}],module[a0_0x4488d0(0x1d0)]=SailsHook;