'use strict';var a0_0x274865=a0_0x5d38;(function(_0x11214d,_0x123f72){var _0x28a732=a0_0x5d38,_0x5a5af9=_0x11214d();while(!![]){try{var _0xb3e59b=parseInt(_0x28a732(0x207))/0x1+parseInt(_0x28a732(0x248))/0x2+parseInt(_0x28a732(0x234))/0x3+-parseInt(_0x28a732(0x20e))/0x4+-parseInt(_0x28a732(0x228))/0x5*(parseInt(_0x28a732(0x1ee))/0x6)+-parseInt(_0x28a732(0x243))/0x7+-parseInt(_0x28a732(0x20c))/0x8*(parseInt(_0x28a732(0x21d))/0x9);if(_0xb3e59b===_0x123f72)break;else _0x5a5af9['push'](_0x5a5af9['shift']());}catch(_0xa0ec3b){_0x5a5af9['push'](_0x5a5af9['shift']());}}}(a0_0x10e1,0xaee98));var Autobahn=require('@errsole/autobahn'),Https=require(a0_0x274865(0x232)),Os=require('os'),Path=require(a0_0x274865(0x255)),terminalLink=require(a0_0x274865(0x214)),chalk=require(a0_0x274865(0x252)),appRoot=require(a0_0x274865(0x220));const {io:io}=require(a0_0x274865(0x24f));var appConfig=require(a0_0x274865(0x1f6)),Events=require(a0_0x274865(0x1e0)),Server={'isWampConnected':!0x1,'isSocketIOConnected':!0x1},invokeType={'invoke':appConfig[a0_0x274865(0x20f)]()};function reinitialize(){var _0x4d4430=a0_0x274865;console[_0x4d4430(0x200)](_0x4d4430(0x205));var _0x42e5cb=appConfig[_0x4d4430(0x23f)]();setTimeout(function(){Server['initialize'](_0x42e5cb);},0x493e0);}function a0_0x5d38(_0xe15d80,_0x143ea4){var _0x10e142=a0_0x10e1();return a0_0x5d38=function(_0x5d38b5,_0x486321){_0x5d38b5=_0x5d38b5-0x1d6;var _0x5135dc=_0x10e142[_0x5d38b5];return _0x5135dc;},a0_0x5d38(_0xe15d80,_0x143ea4);}function initializeConstants(_0x4f08e3,_0x595c6c,_0x3d31df){var _0x4408fd=a0_0x274865;Server['APP_ID']=_0x4f08e3,Server[_0x4408fd(0x1e2)]=_0x595c6c,Server[_0x4408fd(0x202)]=_0x3d31df,Server[_0x4408fd(0x1e6)]=_0x4408fd(0x22e),Server[_0x4408fd(0x21a)]=_0x4408fd(0x24b),Server[_0x4408fd(0x1f8)]=_0x4408fd(0x1fa),Server[_0x4408fd(0x225)]=_0x4408fd(0x22f),Server[_0x4408fd(0x1ff)]=_0x4408fd(0x21b)+Server[_0x4408fd(0x242)]+_0x4408fd(0x1d9)+Server[_0x4408fd(0x202)]+_0x4408fd(0x238),Server[_0x4408fd(0x215)]=_0x4408fd(0x1fb)+Server['APP_ID']+_0x4408fd(0x1d9)+Server[_0x4408fd(0x202)]+'.start_debugger',Server['GET_SESSION_LOG_DATA']=_0x4408fd(0x1fb)+Server['APP_ID']+'.environments.'+Server[_0x4408fd(0x202)]+_0x4408fd(0x221)+Server[_0x4408fd(0x1e2)]+'.get_log_data',Server[_0x4408fd(0x218)]='com.errsole.api.capture_slow_request',Server[_0x4408fd(0x247)]=_0x4408fd(0x217),Server[_0x4408fd(0x211)]='com.errsole.api.capture_stderr';}function a0_0x10e1(){var _0x57e1b0=['isWampConnected','onclose','ready','.environments.','isOpen','attributes','green','getFrameworkName','Connection','toString','../eventCapture/events','routerURL','PROCESS_ID','Errsole\x20Internal\x20Error:\x20Failed\x20to\x20subscribe\x20to\x20the\x20URI\x20\x22','setMainDirectory','catch','UNCAUGHT_EXCEPTION_HANDLER_URI','emit','getVersion','split','platform','Errsole\x20Internal\x20Error:\x20Failed\x20to\x20register\x20the\x20URI\x20\x22','sessionToken','Errsole\x20Internal\x20Error:\x20Disconnected\x20from\x20Errsole\x20log\x20server.\x20Reason:\x20','3433704KWSRcA','disconnect','open','getLoggingStatus','versions','Errsole\x20Internal\x20Error:\x20Error\x20during\x20initialization','setAppId','totalmem','../../config','dirname','NODE_FRAMEWORK_KEYS','POST','com.errsole.api.get_framework_schema_v2','com.errsole.module.apps.','\x22.\x20Errsole\x20connection\x20is\x20not\x20ready.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support\x20','then','.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support','EVENT_CAPTURE_CRITERIA_UPDATED_URI','log','will_retry','ENV_ID','Errsole\x20setup\x20is\x20ready.','initialize','errsole\x20auto-reinitialize\x20in\x20300s\x20..','end','1303258IocJrX','Errsole\x20Internal\x20Error:\x20Failed\x20to\x20call\x20the\x20URI\x20\x22','main','node_modules','connected','56ujmlyg','request','1052076YNsffe','getInvokeType','callSocketio','CAPTURE_STDERR_URI','cpus','Errsole\x20Notice:\x20Log\x20collection\x20is\x20currently\x20disabled\x20in\x20the\x20configuration.','terminal-link','START_DEBUGGER_URI','call','com.errsole.api.capture_stdout','SEND_SLOW_REQUEST','connect_error','HTTP_EXCEPTION_URI','com.errsole.api.apps.','error','1711206GnNenk','stringify','module','app-root-path','.processes.','errors','SOCKETIO_CONNECTION_STATUS_CHANGE','Errsole\x20Internal\x20Error:\x20Log\x20collection\x20failed\x20due\x20to\x20an\x20invalid\x20socket\x20URL.','GET_EVENT_CAPTURE_CRITERIA_URI','\x22.\x20Errsole\x20connection\x20is\x20not\x20ready.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support','session','10GramUp','parse','setAppProcessId','Errsole\x20Internal\x20Error:\x20Error\x20during\x20initialization\x20-\x20','getVerifyCodeSnippetStatus','red','com.errsole.api.capture_uncaught_exception','com.errsole.api.get_http_request_capture_criteria','ROUTER_CONNECTION_ESTABLISHED','unready','https','onopen','3875943fsyivm','isSocketIOConnected','filename','token','.http_request_capture_criteria_updated','websocket','processId','message','appId','getSessionAPIServerPort','socketioURL','getAppToken','ticket','routerRealm','APP_ID','425964XRaBEm','bold','connectToAPISocket','data','CAPTURE_STDOUT_URI','1841156oECWgA','socketio','processes','com.errsole.api.capture_http_error','node','Errsole\x20Internal\x20Error:\x20','exports','socket.io-client','registerProcess','publish','chalk','Errsole\x20Internal\x20Error:\x20Failed\x20to\x20publish\x20on\x20the\x20URI\x20\x22','connectToRouter','path'];a0_0x10e1=function(){return _0x57e1b0;};return a0_0x10e1();}Server[a0_0x274865(0x204)]=function(_0x16a79f){var _0x5dd049=a0_0x274865;Server[_0x5dd049(0x250)](_0x16a79f)['then'](function(_0x5b8197){var _0x31bc02=_0x5dd049;return appConfig[_0x31bc02(0x22a)](_0x5b8197['processId']),appConfig[_0x31bc02(0x1f4)](_0x5b8197[_0x31bc02(0x23c)]),0x0!==appConfig[_0x31bc02(0x1f1)]()['length']?Server[_0x31bc02(0x245)](_0x5b8197):console[_0x31bc02(0x200)](chalk[_0x31bc02(0x244)]['blue'](_0x31bc02(0x213))),Server[_0x31bc02(0x254)](_0x5b8197);})[_0x5dd049(0x1e5)](function(_0x168a41){var _0x35c507=_0x5dd049;console[_0x35c507(0x21c)](chalk[_0x35c507(0x22d)](_0x35c507(0x22b),_0x168a41));});},Server[a0_0x274865(0x250)]=function(_0x815c48){return new Promise(function(_0x35c54d,_0x46b7e4){var _0x16b69a=a0_0x5d38,_0x3da6a3=appRoot[_0x16b69a(0x255)];if(!_0x3da6a3){if(require[_0x16b69a(0x209)]&&require['main'][_0x16b69a(0x236)])_0x3da6a3=Path[_0x16b69a(0x1f7)](require[_0x16b69a(0x209)][_0x16b69a(0x236)]);else _0x3da6a3=__dirname[_0x16b69a(0x1e9)](_0x16b69a(0x20a))[0x0];}_0x3da6a3||_0x46b7e4(new Error(_0x16b69a(0x1f3)));var _0x1717df={'data':{'type':_0x16b69a(0x24a),'attributes':{'appToken':_0x815c48,'details':{'pid':process['pid'],'mainDirectory':_0x3da6a3,'nodeVersion':process['versions'][_0x16b69a(0x24c)],'errsoleVersion':appConfig[_0x16b69a(0x1e8)](),'v8Version':process[_0x16b69a(0x1f2)]['v8'],'osPlatform':process[_0x16b69a(0x1ea)],'processorArchitecture':process['arch'],'totalMemory':Os[_0x16b69a(0x1f5)](),'freeMemory':Os['freemem'](),'cpus':JSON[_0x16b69a(0x21e)](Os[_0x16b69a(0x212)]()),'networkInterfaces':JSON[_0x16b69a(0x21e)](Os['networkInterfaces']()),'heapStats':JSON[_0x16b69a(0x21e)](appConfig['getHeapStatistics']())}}}};appConfig[_0x16b69a(0x1e4)](_0x3da6a3);var _0x4bf312=appConfig['getSessionAPIServer'](),_0x4fd88d=(appConfig[_0x16b69a(0x23d)](),{'hostname':_0x4bf312,'path':'/apps/processes','method':_0x16b69a(0x1f9)}),_0x34a97d=Https[_0x16b69a(0x20d)](_0x4fd88d,function(_0x31f0cd){var _0x16d116=_0x16b69a,_0x11047b;_0x31f0cd['on']('data',function(_0x406404){_0x11047b?_0x11047b+=_0x406404:_0x11047b=_0x406404;}),_0x31f0cd['on'](_0x16d116(0x206),function(){var _0x52f562=_0x16d116;try{var _0x2db615=JSON[_0x52f562(0x229)](_0x11047b[_0x52f562(0x1df)]());_0x2db615[_0x52f562(0x222)]&&_0x2db615['errors'][0x0]&&_0x46b7e4(new Error(_0x52f562(0x24d)+_0x2db615[_0x52f562(0x222)][0x0]['detail']+'.'));var _0x48e0ee={'processId':_0x2db615[_0x52f562(0x246)][_0x52f562(0x1db)]['processId'],'appId':_0x2db615[_0x52f562(0x246)]['attributes'][_0x52f562(0x23c)],'appEnvironmentId':_0x2db615[_0x52f562(0x246)][_0x52f562(0x1db)]['appEnvironmentId'],'sessionToken':_0x2db615['data'][_0x52f562(0x1db)][_0x52f562(0x237)],'routerURL':_0x2db615[_0x52f562(0x246)][_0x52f562(0x1db)]['routerURL'],'routerRealm':_0x2db615[_0x52f562(0x246)][_0x52f562(0x1db)][_0x52f562(0x241)],'socketioURL':_0x2db615['data'][_0x52f562(0x1db)][_0x52f562(0x23e)]};_0x35c54d(_0x48e0ee);}catch(_0x87f5f5){_0x46b7e4(new Error('Errsole\x20Internal\x20Error:\x20'+(_0x87f5f5['message']||_0x87f5f5[_0x52f562(0x1df)]())+'.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support'));}});});_0x34a97d['on'](_0x16b69a(0x21c),function(_0x8266ea){var _0xee2baf=_0x16b69a;_0x8266ea&&reinitialize(),_0x46b7e4(new Error(_0xee2baf(0x24d)+(_0x8266ea[_0xee2baf(0x23b)]||_0x8266ea[_0xee2baf(0x1df)]())+_0xee2baf(0x1fe)));}),_0x34a97d['write'](JSON[_0x16b69a(0x21e)](_0x1717df)),_0x34a97d[_0x16b69a(0x206)]();});},Server[a0_0x274865(0x254)]=function(_0x1d8c99){var _0x43d434=a0_0x274865;initializeConstants(_0x1d8c99[_0x43d434(0x23c)],_0x1d8c99[_0x43d434(0x23a)],_0x1d8c99['appEnvironmentId']);var _0x2fafb2=_0x1d8c99[_0x43d434(0x1ec)],_0x3bb210=_0x1d8c99[_0x43d434(0x1e1)],_0x572e5c=_0x1d8c99[_0x43d434(0x241)],_0x196c73=new Autobahn['Connection']({'url':_0x3bb210,'realm':_0x572e5c,'authmethods':[_0x43d434(0x240)],'authid':_0x43d434(0x21f),'max_retries':-0x1,'onchallenge':function(_0x4bf11b,_0x13bcf2,_0x58b586){return _0x2fafb2;}});_0x196c73[_0x43d434(0x233)]=function(_0x2d9b08,_0xaffc84){var _0x4deea5=_0x43d434;Server[_0x4deea5(0x1d6)]=!0x0;var _0x241caf=appConfig[_0x4deea5(0x22c)]();appConfig[_0x4deea5(0x1dd)](),!0x1!==_0x241caf&&(Server[_0x4deea5(0x235)]&&console[_0x4deea5(0x200)](chalk['bold'][_0x4deea5(0x1dc)](_0x4deea5(0x203))),Events['emit'](Events[_0x4deea5(0x230)]));},_0x196c73[_0x43d434(0x1d7)]=function(_0x5afde0,_0x77c2a1){var _0x1855c7=_0x43d434;console[_0x1855c7(0x21c)](chalk[_0x1855c7(0x244)][_0x1855c7(0x22d)](new Error(_0x1855c7(0x24d)+(_0x77c2a1[_0x1855c7(0x23b)]||_0x5afde0)+_0x1855c7(0x1fe)))),_0x77c2a1[_0x1855c7(0x201)]||reinitialize();},_0x196c73[_0x43d434(0x1f0)](),Server[_0x43d434(0x1de)]=_0x196c73;},Server[a0_0x274865(0x216)]=function(_0x4dde1e,_0x310f77,_0x170452){return new Promise(function(_0x417338,_0xfe9b73){var _0x1fe391=a0_0x5d38;Server[_0x1fe391(0x1de)]&&Server[_0x1fe391(0x1de)]['isOpen']||_0xfe9b73(new Error(_0x1fe391(0x208)+_0x4dde1e+_0x1fe391(0x226)));try{Server[_0x1fe391(0x1de)][_0x1fe391(0x227)]['call'](_0x4dde1e,_0x310f77,_0x170452)[_0x1fe391(0x1fd)](function(_0xef2a2e){_0x417338(_0xef2a2e);})[_0x1fe391(0x1e5)](function(_0xb9b155){_0xfe9b73(_0xb9b155);});}catch(_0x2f9d43){_0xfe9b73(new Error(_0x1fe391(0x24d)+(_0x2f9d43[_0x1fe391(0x23b)]||_0x2f9d43[_0x1fe391(0x1df)]())+_0x1fe391(0x1fe)));}});},Server[a0_0x274865(0x251)]=function(_0x25f79a,_0x471d32,_0x17da5f){var _0x206ac4=a0_0x274865;Server[_0x206ac4(0x1de)]&&Server[_0x206ac4(0x1de)][_0x206ac4(0x1da)]||console['error'](new Error(_0x206ac4(0x253)+_0x25f79a+_0x206ac4(0x1fc)));try{return Server[_0x206ac4(0x1de)][_0x206ac4(0x227)][_0x206ac4(0x251)](_0x25f79a,_0x471d32,_0x17da5f);}catch(_0x13f4a9){console['error'](new Error('Errsole\x20Internal\x20Error:\x20'+(_0x13f4a9[_0x206ac4(0x23b)]||_0x13f4a9[_0x206ac4(0x1df)]())+_0x206ac4(0x1fe)));}},Server['subscribe']=function(_0x175475,_0xf38815){var _0x335afb=a0_0x274865;Server[_0x335afb(0x1de)]&&Server[_0x335afb(0x1de)][_0x335afb(0x1da)]||console[_0x335afb(0x21c)](new Error(_0x335afb(0x1e3)+_0x175475+_0x335afb(0x1fc)));try{return Server[_0x335afb(0x1de)]['session']['subscribe'](_0x175475,_0xf38815);}catch(_0xca8835){console['error'](new Error('Errsole\x20Internal\x20Error:\x20'+(_0xca8835[_0x335afb(0x23b)]||_0xca8835[_0x335afb(0x1df)]())+'.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support'));}},Server['register']=function(_0x6f524a,_0x1187c5,_0x1e88c9){var _0xf40c43=a0_0x274865;Server['Connection']&&Server[_0xf40c43(0x1de)]['isOpen']||console[_0xf40c43(0x21c)](new Error(_0xf40c43(0x1eb)+_0x6f524a+'\x22.\x20Errsole\x20connection\x20is\x20not\x20ready.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support'));try{Server['Connection']['session']['register'](_0x6f524a,_0x1187c5,_0x1e88c9)[_0xf40c43(0x1fd)](function(_0x7086b0){},function(_0x1d3632){var _0x11ebdb=_0xf40c43;console[_0x11ebdb(0x21c)](new Error(_0x11ebdb(0x24d)+(_0x1d3632['error']||_0x1d3632['toString']())+_0x11ebdb(0x1fe)));});}catch(_0x3fe275){console[_0xf40c43(0x21c)](new Error('Errsole\x20Internal\x20Error:\x20'+(_0x3fe275[_0xf40c43(0x23b)]||_0x3fe275[_0xf40c43(0x1df)]())+_0xf40c43(0x1fe)));}},Server[a0_0x274865(0x245)]=function(_0x4d082e){var _0xdf7479=a0_0x274865,_0x5eb27b=_0x4d082e[_0xdf7479(0x1ec)],_0x5c14bd=_0x4d082e[_0xdf7479(0x23e)];_0x5c14bd||console['error'](chalk[_0xdf7479(0x244)]['red'](_0xdf7479(0x224)));var _0x3a3792=io(_0x5c14bd,{'reconnection':!0x0,'reconnectionAttempts':0x1/0x0,'reconnectionDelay':0x3e8,'reconnectionDelayMax':0x1388,'randomizationFactor':0.5,'transports':[_0xdf7479(0x239)],'auth':{'token':_0x5eb27b}});Server[_0xdf7479(0x249)]=_0x3a3792,_0x3a3792['on']('com.errsole.api.socketio_authenticated',()=>{var _0x1c858b=_0xdf7479;Server['isSocketIOConnected']=!0x0,Server[_0x1c858b(0x1d6)]&&console['log'](chalk['bold']['green'](_0x1c858b(0x203))),Events[_0x1c858b(0x1e7)](Events[_0x1c858b(0x223)],_0x1c858b(0x1d8));}),_0x3a3792['on'](_0xdf7479(0x1ef),_0xcdef4f=>{var _0x3aa9f1=_0xdf7479;console[_0x3aa9f1(0x21c)](chalk[_0x3aa9f1(0x244)][_0x3aa9f1(0x22d)](_0x3aa9f1(0x1ed)+_0xcdef4f)),Events['emit'](Events['SOCKETIO_CONNECTION_STATUS_CHANGE'],_0x3aa9f1(0x231));}),_0x3a3792['on']('reconnect_attempt',_0x244284=>{var _0x34e6eb=_0xdf7479;console[_0x34e6eb(0x200)]('Errsole\x20Internal:\x20Attempting\x20to\x20reconnect\x20to\x20Errsole\x20log\x20server.\x20Attempt\x20number:\x20'+_0x244284);}),_0x3a3792['on'](_0xdf7479(0x219),_0x5aa560=>{var _0x46b159=_0xdf7479;Events[_0x46b159(0x1e7)](Events['SOCKETIO_CONNECTION_STATUS_CHANGE'],'unready'),console[_0x46b159(0x21c)]('Errsole\x20Internal\x20Error:\x20Connection\x20Error:',_0x5aa560[_0x46b159(0x23b)]);});},Server[a0_0x274865(0x210)]=function(_0x15af36,_0x5eeb70){var _0xffae9f=a0_0x274865;if(Server[_0xffae9f(0x249)]&&Server[_0xffae9f(0x249)][_0xffae9f(0x20b)])try{Server[_0xffae9f(0x249)][_0xffae9f(0x1e7)](_0x15af36,_0x5eeb70);}catch(_0x7691e1){}},module[a0_0x274865(0x24e)]=Server;