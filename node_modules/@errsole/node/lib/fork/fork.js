'use strict';function a0_0x42c1(_0xb702ba,_0x33cece){var _0x299738=a0_0x2997();return a0_0x42c1=function(_0x42c19e,_0xcebe37){_0x42c19e=_0x42c19e-0x8a;var _0x370bba=_0x299738[_0x42c19e];return _0x370bba;},a0_0x42c1(_0xb702ba,_0x33cece);}function a0_0x2997(){var _0x15bcf9=['.js','_debuggerSessionId','onChildProcessStartFailure','slice','186KznzBg','execArgv','--inspect=','Errsole\x20Internal\x20Error:\x20Unable\x20to\x20start\x20the\x20debugger\x20for\x20child\x20process.','../main/inspector','Http','true','.cjs','mainProcessPort','_isDebuggerStarted','exports','assign','ports','filename','_status','.\x20Please\x20report\x20the\x20issue\x20at\x20https://www.errsole.com/support','debuggerStarted','push','4818247RzAiGL','main','SIGINT','Debugger','child_process','1618775oBqrQe','_forkedProcess','_ports','extname','Ipc','_isChildProcessStarted','toLowerCase','kill','map','./ipc','argv','stringify','3787604ZZTDSQ','_executeCodeRestricted','message','_mainProcessPort','keys','.mjs','debuggerSessionId','debugPort','Errsole\x20Internal\x20Error:\x20Unable\x20to\x20start\x20the\x20child\x20process.','start','path','248020aMRTut','silent','29980544mdBBhc','env','4393614NgOOua','prototype','750354xXlUDx','_debugPort','Errsole\x20Internal\x20Error:\x20','includes'];a0_0x2997=function(){return _0x15bcf9;};return a0_0x2997();}var a0_0x578129=a0_0x42c1;(function(_0x2a77e2,_0xc151d4){var _0x3f17ef=a0_0x42c1,_0x5c007f=_0x2a77e2();while(!![]){try{var _0x1a68cd=-parseInt(_0x3f17ef(0xc4))/0x1+parseInt(_0x3f17ef(0xa5))/0x2+-parseInt(_0x3f17ef(0xa3))/0x3+-parseInt(_0x3f17ef(0x94))/0x4+-parseInt(_0x3f17ef(0x9f))/0x5*(-parseInt(_0x3f17ef(0xad))/0x6)+-parseInt(_0x3f17ef(0xbf))/0x7+parseInt(_0x3f17ef(0xa1))/0x8;if(_0x1a68cd===_0xc151d4)break;else _0x5c007f['push'](_0x5c007f['shift']());}catch(_0x5362f5){_0x5c007f['push'](_0x5c007f['shift']());}}}(a0_0x2997,0xe5f6e));var ChildProcess=require(a0_0x578129(0xc3)),Debugger=require(a0_0x578129(0xb1)),Ipc=require(a0_0x578129(0x91)),Http=require('./http');const path=require(a0_0x578129(0x9e));var appConfig=require('../config'),Fork=function(_0x50cd44){var _0x40c339=a0_0x578129;this[_0x40c339(0xaa)]=_0x50cd44[_0x40c339(0x9a)],this['_executeCodeRestricted']=_0x50cd44['executeCodeRestricted'],this['_mainProcessPort']=_0x50cd44[_0x40c339(0xb5)],this['_ports']=_0x50cd44[_0x40c339(0xb9)],this[_0x40c339(0xa6)]=_0x50cd44[_0x40c339(0x9b)],this[_0x40c339(0xc5)]=null,this[_0x40c339(0xbb)]=null;};function getForkOptions(_0x2fa08e,_0x42218c,_0x3debcf,_0x94f6e6){var _0x24887d=a0_0x578129,_0x2be538=_0x3debcf[_0x42218c],_0x289dc4={'env':Object[_0x24887d(0xb8)]({},process[_0x24887d(0xa2)]||{},{'ERRSOLE_FORK':_0x24887d(0xb3),'ERRSOLE_DEBUGSESSION_ID':_0x2fa08e,'ERRSOLE_MAIN_APP_PORT':_0x42218c,'ERRSOLE_APP_PORT':_0x2be538,'ERRSOLE_PORTS':JSON[_0x24887d(0x93)](_0x3debcf)})};return _0x289dc4['appProcessPort']=_0x2be538,_0x289dc4[_0x24887d(0xb9)]=Object[_0x24887d(0x98)](_0x3debcf)[_0x24887d(0x90)](_0x2d883c=>_0x3debcf[_0x2d883c]),_0x289dc4['execArgv']=process[_0x24887d(0xae)][_0x24887d(0xac)](),_0x289dc4[_0x24887d(0xae)][_0x24887d(0xbe)](_0x24887d(0xaf)+_0x94f6e6),_0x289dc4[_0x24887d(0xa0)]=!0x0,_0x289dc4;}Fork['prototype'][a0_0x578129(0x9d)]=async function(){var _0x456467=this;return new Promise(async function(_0x1d09ba,_0x24aae2){var _0x36aaff=a0_0x42c1,_0x3bfc7b;const _0x33cf88=appConfig['getMainDirectory']();if(require&&require[_0x36aaff(0xc0)]&&require[_0x36aaff(0xc0)]['filename'])_0x3bfc7b=require[_0x36aaff(0xc0)][_0x36aaff(0xba)];else{if(!process['argv'][0x1])return void _0x24aae2(new Error(_0x36aaff(0x9c)));{const _0x358460=path[_0x36aaff(0x8b)](process[_0x36aaff(0x92)][0x1])[_0x36aaff(0x8e)]();if(![_0x36aaff(0xa9),_0x36aaff(0x99),_0x36aaff(0xb4)][_0x36aaff(0xa8)](_0x358460)||!process[_0x36aaff(0x92)][0x1][_0x36aaff(0xa8)](_0x33cf88))return void _0x24aae2(new Error(_0x36aaff(0x9c)));_0x3bfc7b=process[_0x36aaff(0x92)][0x1];}}if(_0x3bfc7b){var _0x2b9713=process['argv'][_0x36aaff(0xac)](0x2),_0x4ad7a6=getForkOptions(_0x456467[_0x36aaff(0xaa)],_0x456467[_0x36aaff(0x97)],_0x456467[_0x36aaff(0x8a)],_0x456467[_0x36aaff(0xa6)]);_0x456467[_0x36aaff(0xc5)]=ChildProcess['fork'](_0x3bfc7b,_0x2b9713,_0x4ad7a6);try{if(!await _0x456467[_0x36aaff(0x8d)]())return _0x456467[_0x36aaff(0xc5)][_0x36aaff(0x8f)]('SIGINT'),void _0x24aae2(new Error('Errsole\x20Internal\x20Error:\x20Unable\x20to\x20start\x20the\x20child\x20process.'));}catch(_0x49d7b9){return void _0x24aae2(new Error(_0x36aaff(0x9c)));}try{if(!await _0x456467['_isDebuggerStarted']())return _0x456467['_forkedProcess'][_0x36aaff(0x8f)](_0x36aaff(0xc1)),void _0x24aae2(new Error(_0x36aaff(0xb0)));}catch(_0x1198d5){return _0x456467[_0x36aaff(0xc5)]['kill'](_0x36aaff(0xc1)),void _0x24aae2(new Error(_0x36aaff(0xb0)));}_0x456467[_0x36aaff(0xb2)]=new Http(_0x456467['_mainProcessPort'],_0x456467['_ports'],_0x4ad7a6),_0x1d09ba(!0x0);}else _0x24aae2(new Error(_0x36aaff(0x9c)));});},Fork['prototype']['_isChildProcessStarted']=function(){var _0x1fdb16=a0_0x578129,_0x1c550e=this;return _0x1c550e[_0x1fdb16(0x8c)]=new Ipc(_0x1c550e['_forkedProcess']),new Promise(function(_0x11a316,_0x405fa4){var _0x4ce10e=_0x1fdb16;_0x1c550e[_0x4ce10e(0x8c)]['onChildProcessStartSuccess'](function(_0x318b05){_0x11a316(!0x0);}),_0x1c550e[_0x4ce10e(0x8c)][_0x4ce10e(0xab)](function(_0x394139){_0x405fa4(!0x1);});});},Fork[a0_0x578129(0xa4)][a0_0x578129(0xb6)]=function(){var _0x3987db=this;return new Promise(function(_0xd9328e,_0x312cce){var _0x1abda1=a0_0x42c1;try{_0x3987db[_0x1abda1(0xc2)]=new Debugger(_0x3987db[_0x1abda1(0xa6)],_0x3987db[_0x1abda1(0xaa)],_0x3987db[_0x1abda1(0xc5)],_0x3987db[_0x1abda1(0x95)]),_0x3987db[_0x1abda1(0xc2)]['on'](_0x1abda1(0xbd),function(_0x1fb225){var _0x1c05da=_0x1abda1;_0x1fb225[_0x1c05da(0x9a)]==_0x3987db[_0x1c05da(0xaa)]?_0x1fb225['status']?_0xd9328e(!0x0):_0x312cce(!0x1):_0x312cce(!0x1);});}catch(_0x38e33a){console['error'](new Error(_0x1abda1(0xa7)+(_0x38e33a[_0x1abda1(0x96)]||_0x38e33a['toString']())+_0x1abda1(0xbc))),_0x312cce(!0x1);}});},module[a0_0x578129(0xb7)]=Fork;